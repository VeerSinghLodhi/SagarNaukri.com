<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Your Applications | SagarJobs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <style>

    @keyframes fadeInBody {
        from { opacity: 0; }
        to { opacity: 1; }
    }
body {
            font-family: 'Lato', sans-serif;
            background-color: var(--light-bg);
            color: #333;
            line-height: 1.6;
        }

        .navbar {
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .navbar-brand {
            font-weight: 700;
            color: var(--primary-color) !important;
            font-size: 1.5rem;
            letter-spacing: -0.5px;
            display: flex;
            align-items: center;
        }

        .navbar-brand img {
            height: 30px;
            margin-right: 8px;
        }

        .profile-img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            border: 4px solid var(--primary-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .profile-img:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .card {
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            margin-bottom: 25px;
            border: none;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            background-color: white;
            font-weight: bold;
            font-size: 25px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            padding: 1.25rem 1.5rem;
        }

        .card-body {
            padding: 1.5rem;
        }

        .sidebar {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
        }

        .sidebar-link {
            color: var(--secondary-color);
            font-weight: 500;
            padding: 0.5rem 1rem;
            margin: 0.25rem 0;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .sidebar-link:hover {
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--primary-color);
        }

        .sidebar-link.active {
            color: var(--primary-color);
            background-color: rgba(52, 152, 219, 0.1);
            border-left: 3px solid var(--primary-color);
        }

        .sidebar-link i {
            width: 20px;
            text-align: center;
            margin-right: 10px;
        }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
  <div class="container">
    <a class="navbar-brand" href="#">
      <img th:src="@{/websitelogo.png}" alt="Company Logo" style="height: 30px; margin-right: 8px;"> JobSeeker
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link" href="dashboard.html">Dashboard</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/alljobs">Jobs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/jobseeker/applications">Applications</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="profile.html">Profile</a>
        </li>
      </ul>
      <div class="d-flex align-items-center">
        <div class="dropdown">
          <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle"
             id="dropdownUser" data-bs-toggle="dropdown">
            <img th:if="${jobSeeker.profilePicture != null}" th:src="@{/jobseeker/profile-picture}"
                 class="rounded-circle me-2" width="40" height="40">
            <img th:unless="${jobSeeker.profilePicture != null}"
                 src="https://ui-avatars.com/api/?name=John+Doe&size=150&background=random"
                 class="rounded-circle me-2" width="40" height="40">
            <span class="d-none d-sm-inline" th:text="${jobSeeker.name}">John Doe</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" th:href="@{/jobseeker/edit}"><i
                    class="fas fa-user-edit me-2"></i>Profile</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" th:href="@{/jobseeker/logout}"><i
                    class="fas fa-sign-out-alt me-2"></i>Sign out</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>


<div class="container mt-5">
  <div class="row">
    <div class="col-lg-3 mb-3">
      <div class="sidebar p-3 sticky-top">
        <div class="text-center mb-3">
          <div class="text-center mb-3">
            <img th:if="${jobSeeker.profilePicture != null}" th:src="@{'/jobseeker/profile-picture'}"
                 class="profile-img rounded-circle mb-3" alt="Profile Picture">

            <img th:unless="${jobSeeker.profilePicture != null}"
                 th:src="@{'https://ui-avatars.com/api/?name=' + ${jobSeeker.name.replace(' ','+')} + '&size=150&background=random'}"
                 class="profile-img rounded-circle mb-3" alt="Default Profile Picture">
          </div>
          <h5 th:text="${jobSeeker.name}">John Doe</h5>
          <p class="text-muted mb-3">Job Seeker</p>
          <a th:href="@{/jobseeker/edit}" class="btn btn-primary btn-sm px-4">
            <i class="fas fa-edit me-1"></i>Edit Profile
          </a>
        </div>
        <hr>
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link sidebar-link" href="dashboard.html">
              <i class="fas fa-tachometer-alt me-2"></i>Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link sidebar-link active" href="profile.html">
              <i class="fas fa-user me-2"></i>My Profile
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link sidebar-link" href="#qualifications">
              <i class="fas fa-graduation-cap me-2"></i>Qualifications
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link sidebar-link" href="#experience">
              <i class="fas fa-briefcase me-2"></i>Experience
            </a>
          <li class="nav-item">
            <a class="nav-link sidebar-link" href="#skills">
              <i class="fas fa-code me-2"></i>Skills
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="col-lg-9 ">
      <h2 class="text-center mb-4">
        <i class="fas fa-clipboard-list me-2"></i>Your Job Applications
      </h2>

      <div th:if="${applications.size() == 0}">
        <div class="alert alert-info text-center">You haven’t applied to any jobs yet.</div>
      </div>

      <div class="row" >
        <div class="col-md-6 mb-4" th:each="app, stat : ${applications}">
<!--          <div class="card shadow-sm" th:classappend="${'visible delay-' + stat.index}">-->
          <div class="card shadow-sm">
            <div class="card-body">
              <!--          <h1 th:text="${stat.index}"></h1>-->
              <h5 class="card-title" th:text="${appliedJobs.get(stat.index).jobtitle}">Job Title</h5>
              <h6 class="card-subtitle mb-2 text-muted" th:text="${companyList.get(stat.index).companyname}">Company Name</h6>
              <p class="mb-2">
                <strong>Status:</strong>
                <span class="badge bg-secondary" th:text="${app.applicationstatus}">Pending</span>
              </p>
              <p class="mb-2">
                <strong>Date Applied:</strong>
                <span th:text="${#dates.format(app.dateapplied, 'dd-MM-yyyy')}">04-08-2025</span>
              </p>
              <!--          <a th:href="@{'/resume/download/' + ${app.appid}}" class="btn btn-outline-primary btn-sm" target="_blank">-->
              <!--            <i class="fas fa-file-download me-1"></i>Download Resume-->
              <!--          </a>-->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!--<div class="container mt-5">-->
<!--  <h2 class="text-center mb-4">-->
<!--    <i class="fas fa-clipboard-list me-2"></i>Your Job Applications-->
<!--  </h2>-->

<!--  <div th:if="${applications.size() == 0}">-->
<!--    <div class="alert alert-info text-center">You haven’t applied to any jobs yet.</div>-->
<!--  </div>-->

<!--  <div class="row" th:each="app, stat : ${applications}">-->
<!--    <div class="col-md-6 mb-4">-->
<!--      <div class="card shadow-sm" th:classappend="${'visible delay-' + stat.index}">-->
<!--        <div class="card-body">-->
<!--&lt;!&ndash;          <h1 th:text="${stat.index}"></h1>&ndash;&gt;-->
<!--          <h5 class="card-title" th:text="${appliedJobs.get(stat.index).jobtitle}">Job Title</h5>-->
<!--          <h6 class="card-subtitle mb-2 text-muted" th:text="${companyList.get(stat.index).companyname}">Company Name</h6>-->
<!--          <p class="mb-2">-->
<!--            <strong>Status:</strong>-->
<!--            <span class="badge bg-secondary" th:text="${app.applicationstatus}">Pending</span>-->
<!--          </p>-->
<!--          <p class="mb-2">-->
<!--            <strong>Date Applied:</strong>-->
<!--            <span th:text="${#dates.format(app.dateapplied, 'dd-MM-yyyy')}">04-08-2025</span>-->
<!--          </p>-->
<!--&lt;!&ndash;          <a th:href="@{'/resume/download/' + ${app.appid}}" class="btn btn-outline-primary btn-sm" target="_blank">&ndash;&gt;-->
<!--&lt;!&ndash;            <i class="fas fa-file-download me-1"></i>Download Resume&ndash;&gt;-->
<!--&lt;!&ndash;          </a>&ndash;&gt;-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Fade-in script -->
<!--<script>-->
<!--  document.addEventListener("DOMContentLoaded", () => {-->
<!--    const cards = document.querySelectorAll(".card");-->
<!--    cards.forEach((card, index) => {-->
<!--      setTimeout(() => {-->
<!--        card.classList.add("visible");-->
<!--      }, index * 100); // Staggered animation-->
<!--    });-->
<!--  });-->
<!--</script>-->

</body>
</html>
